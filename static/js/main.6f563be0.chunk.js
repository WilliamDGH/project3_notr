(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,t,a){e.exports=a(370)},220:function(e,t,a){},221:function(e,t,a){},368:function(e,t,a){},370:function(e,t,a){"use strict";a.r(t);var n,l=a(20),s=a(21),c=a(23),i=a(22),o=a(24),r=a(0),u=a.n(r),h=a(19),d=a.n(h),m=a(377),p=a(378),b=a(147),f=a.n(b).a.initializeApp({apiKey:"AIzaSyD5I5SNSzovUWMbPkvk3cV0sh5jMYd25w0",authDomain:"project3-notr.firebaseapp.com",databaseURL:"https://project3-notr.firebaseio.com",projectId:"project3-notr",storageBucket:"project3-notr.appspot.com",messagingSenderId:"172867758503"}),g=(a(220),a(221),a(11)),v=(a(6),a(29)),E=a(54),O=a.n(E),j=a(100),N=a.n(j),C=a(67),y=a.n(C),w=a(68),k=a.n(w),_=a(149),S=a.n(_),M=a(55),D=a.n(M),T=a(151),x=a.n(T),L=a(150),z=a.n(L),A=a(38),B=a.n(A),I=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(i.a)(t).call(this))).state={id:null},e.handleSelect=e.handleSelect.bind(Object(g.a)(Object(g.a)(e))),e.handleDelete=e.handleDelete.bind(Object(g.a)(Object(g.a)(e))),e}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.setState({id:this.props.id})}},{key:"handleSelect",value:function(){this.props.select(this.state.id)}},{key:"handleDelete",value:function(){this.props.delete(this.state.id)}},{key:"render",value:function(){var e=this.props.classes,t=u.a.createElement("span",{className:e.bullet},"\u2022");return u.a.createElement(y.a,{className:"cardThumbnail"},u.a.createElement(S.a,{className:e.cardMain},u.a.createElement(B.a,{variant:"h5",component:"h6",className:"note-title"},t,this.props.note.title),u.a.createElement("br",null),u.a.createElement(B.a,{className:"note-content",component:"p"},this.props.note.content,u.a.createElement("br",null))),u.a.createElement(k.a,{className:e.cardFooter},u.a.createElement(D.a,{onClick:this.handleSelect,size:"small",color:"secondary","aria-label":"Edit",className:e.fab},u.a.createElement(z.a,null)),u.a.createElement(D.a,{onClick:this.handleDelete,size:"small","aria-label":"Delete",className:e.fab},u.a.createElement(x.a,null))))}}]),t}(r.Component),W=Object(v.withStyles)({cardMain:{height:"85%"},cardFooter:{height:"15%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}})(I),P=a(152),R=a.n(P),F=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return u.a.createElement(y.a,{className:"cardThumbnail",onClick:this.props.select},u.a.createElement(k.a,{className:e.cardMain},u.a.createElement(D.a,{"aria-label":"Add",className:e.fab},u.a.createElement(R.a,null))))}}]),t}(r.Component),U=Object(v.withStyles)({cardMain:{height:"100%",textAlign:"center"},fab:{margin:"0 auto"}})(F),G=a(153),J=a.n(G),K=a(154),V=a.n(K),Y=a(98),q=a.n(Y),H=a(155),Q=a.n(H),X=a(156),Z=a.n(X),$=a(99),ee=a.n($),te=a(157),ae=a.n(te),ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={auth:!0,anchorEl:null},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"_signOut",value:function(){f.auth().signOut()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.auth,n=t.anchorEl,l=Boolean(n);return u.a.createElement("div",{className:e.root},u.a.createElement(J.a,{position:"static",id:"navBar"},u.a.createElement(V.a,null,u.a.createElement(q.a,{className:e.menuButton,color:"inherit","aria-label":"Menu"},u.a.createElement(Q.a,null)),u.a.createElement(B.a,{variant:"h6",color:"inherit",className:e.grow},"NotR"),a&&u.a.createElement("div",null,u.a.createElement(q.a,{"aria-owns":l?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},u.a.createElement(Z.a,null),u.a.createElement("span",{id:"user-name"},this.props.user.email)),u.a.createElement(ae.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:this.handleClose},u.a.createElement(ee.a,{onClick:this.handleClose},"My account"),u.a.createElement(ee.a,{onClick:this._signOut},"Log out"))))))}}]),t}(u.a.Component),le=Object(v.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(ne),se=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(i.a)(t).call(this))).state={notes:null,focus:null},e._selectNote=e._selectNote.bind(Object(g.a)(Object(g.a)(e))),e._handleChangeTitle=e._handleChangeTitle.bind(Object(g.a)(Object(g.a)(e))),e._handleChangeContent=e._handleChangeContent.bind(Object(g.a)(Object(g.a)(e))),e._createNewNote=e._createNewNote.bind(Object(g.a)(Object(g.a)(e))),e._deleteNote=e._deleteNote.bind(Object(g.a)(Object(g.a)(e))),e}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._fetchNotes()}},{key:"_fetchNotes",value:function(){var e=this;f.auth().onAuthStateChanged(function(t){t?(e.setState({user:t}),f.database().ref().child(e.state.user.uid).orderByChild("timeStamp").on("value",function(t){e.setState({notes:t.val()})})):e.setState({user:null})})}},{key:"_selectNote",value:function(e){this.setState({focus:e})}},{key:"_handleChangeTitle",value:function(e){null!==this.state.focus&&f.database().ref().child(this.state.user.uid).child(this.state.focus).update({title:e.target.value})}},{key:"_handleChangeContent",value:function(e){null!==this.state.focus&&f.database().ref().child(this.state.user.uid).child(this.state.focus).update({content:e.target.value})}},{key:"_createNewNote",value:function(){var e=f.database().ref().child(this.state.user.uid).push({title:"new note",content:"new note"}).key;this.setState({focus:e})}},{key:"_deleteNote",value:function(e){f.database().ref().child(this.state.user.uid).child(e).remove()}},{key:"render",value:function(){var e=this,t=this.props.classes;return null===this.state.notes?u.a.createElement("div",{className:"container"},u.a.createElement("h1",null,"Loading...")):u.a.createElement("div",{className:"container"},u.a.createElement(le,{user:this.state.user}),u.a.createElement("div",{className:"noteList"},u.a.createElement(U,{select:this._createNewNote}),null!==this.state.notes&&Object.keys(this.state.notes).reverse().map(function(t){return u.a.createElement(W,{delete:e._deleteNote,select:e._selectNote,key:t,id:t,note:e.state.notes[t]})})),u.a.createElement("div",{className:"noteCanvas"},u.a.createElement(O.a,{elevation:1},u.a.createElement("div",{className:"field"},u.a.createElement(N.a,{placeholder:"title",className:t.noteField,onChange:this._handleChangeTitle,value:null===this.state.notes||null===this.state.focus?"":this.state.notes[this.state.focus].title})),u.a.createElement("div",{className:"field"},u.a.createElement(N.a,{placeholder:"content",fullWidth:"true",multiline:!0,className:"card",onChange:this._handleChangeContent,value:null===this.state.notes||null===this.state.focus?"":this.state.notes[this.state.focus].content})))))}}]),t}(r.Component),ce=Object(v.withStyles)({noteField:{margin:"0 auto",width:"100px"}})(se),ie=a(158),oe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(i.a)(t).call(this))).state={email:"",password:"",message:""},e._handleChange=e._handleChange.bind(Object(g.a)(Object(g.a)(e))),e._login=e._login.bind(Object(g.a)(Object(g.a)(e))),e._signup=e._signup.bind(Object(g.a)(Object(g.a)(e))),e}return Object(o.a)(t,e),Object(s.a)(t,[{key:"_handleChange",value:function(e){this.setState(Object(ie.a)({},e.target.name,e.target.value))}},{key:"_login",value:function(e){var t=this;e.preventDefault(),f.auth().signInWithEmailAndPassword(this.state.email,this.state.password).catch(function(e){t.setState({message:e.message})})}},{key:"_signup",value:function(e){var t=this;e.preventDefault(),f.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then(function(){var e=f.auth().currentUser;f.database().ref().child(e.uid).push({title:"Welcome ".concat(e.email),content:"Create your first note"})}).catch(function(e){t.setState({message:e.message})})}},{key:"render",value:function(){return u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"sidenav"},u.a.createElement("div",{className:"login-main-text"},u.a.createElement("h2",null,"NotR",u.a.createElement("br",null)," Login/Signup"),u.a.createElement("p",null,"Login or register from here to access."))),u.a.createElement("div",{className:"main"},u.a.createElement("div",{className:"col-md-6 col-sm-12"},u.a.createElement("div",{className:"login-form"},u.a.createElement("form",null,u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Email"),u.a.createElement("input",{value:this.state.email,onChange:this._handleChange,name:"email",type:"email",className:"form-control",placeholder:"Email.."})),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Password"),u.a.createElement("input",{value:this.state.password,onChange:this._handleChange,name:"password",type:"password",className:"form-control",placeholder:"Password.."})),u.a.createElement("button",{onClick:this._login,className:"btn btn-black"},"Login"),u.a.createElement("button",{onClick:this._signup,className:"btn btn-secondary"},"Register")),u.a.createElement("p",null,this.state.message)))))}}]),t}(r.Component),re=(a(366),a(367),a(368),a(97));(n=a.n(re).a)("#sidebarToggle, #sidebarToggleTop").on("click",function(e){n("body").toggleClass("sidebar-toggled"),n(".sidebar").toggleClass("toggled"),console.log("clicked"),n(".sidebar").hasClass("toggled")&&n(".sidebar .collapse").collapse("hide")}),n(window).resize(function(){n(window).width()<768&&n(".sidebar .collapse").collapse("hide")}),n("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(e){if(n(window).width()>768){var t=e.originalEvent,a=t.wheelDelta||-t.detail;this.scrollTop+=30*(a<0?1:-1),e.preventDefault()}}),n(document).on("scroll",function(){n(this).scrollTop()>100?n(".scroll-to-top").fadeIn():n(".scroll-to-top").fadeOut()}),n(document).on("click","a.scroll-to-top",function(e){var t=n(this);n("html, body").stop().animate({scrollTop:n(t.attr("href")).offset().top},1e3,"easeInOutExpo"),e.preventDefault()});var ue=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(i.a)(t).call(this))).state={user:null},e}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;f.auth().onAuthStateChanged(function(t){t?e.setState({user:t}):e.setState({user:null})})}},{key:"render",value:function(){return this.state.user?u.a.createElement(m.a,null,u.a.createElement("div",null,u.a.createElement(p.a,{exact:!0,path:"/",component:ce}))):u.a.createElement(oe,null)}}]),t}(r.Component);d.a.render(u.a.createElement(ue,null),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.6f563be0.chunk.js.map